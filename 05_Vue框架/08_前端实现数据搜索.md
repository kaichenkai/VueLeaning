## 前端实现数据搜索

### 实现

运用 computed 和 过滤器

```vue
retStudents = this.students.filter(p => p.name.indexOf(this.searchName) !== -1)
```





### 组件 demo

```vue
<template>
    <div>
      <h3>列表搜索</h3>
      <label>搜索：</label><input type="text" placeholder="请输入学生名称" v-model="searchName">
      <ul>
        <li v-for="(student, index) in filterStudents" :key="index">
          {{index + 1}}---姓名：{{student.name}}, 年龄：{{student.age}}, 性别：{{student.gender}}
        </li>
      </ul>
    </div>
</template>

<script>
export default {
  name: 'ListSearch',
  data () {
    return {
      students: [
        {'name': 'johny', 'age': 12, 'gender': 'girl'},
        {'name': 'jack', 'age': 22, 'gender': 'man'},
        {'name': 'rose', 'age': 22, 'gender': 'women'},
        {'name': 'anson', 'age': 22, 'gender': 'man'}
      ],
      searchName: ''
    }
  },
  computed: {
    filterStudents () {
      let retStudents = this.students
      if (this.searchName) {
        retStudents = this.students.filter(p => p.name.indexOf(this.searchName) !== -1)
      }
      return retStudents
    // 比较新的方法
    // 获取数据
    // let {searchName, students} = this;
    // 取出数组中的数据
    // let retStudents = [...this.studnets]
    // // 过滤数组
    // if (this.studentssearchName.trim()) {
    //   retStudents = this.students.filter(p => p.name.indexOf(this.searchName) != -1)
    // }
    // return retStudents;
    // }
    }
  }
}
</script>

<style scoped>
  li{margin: 5px;}
</style>
```



